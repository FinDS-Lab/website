---
layout: default
title: location
permalink: /about-location.html
---

<!-- ===== Gold Interactive Banner (Hearts/Clubs/Spades/Diamonds) ===== -->
<section class="max-w-7xl mx-auto px-4 mt-6">
  <style>
    :root {
      --gold: rgb(214, 177, 77);
      --gold-light: rgba(214, 177, 77, 0.1);
      --gold-mid: rgb(234, 197, 97);
      --gold-dark: rgb(194, 157, 57);
      --accent: #d4af37;
      --accent2: rgb(172, 14, 14);
    }

    /* Banner */
    .banner-section {
      background: linear-gradient(
        135deg,
        var(--gold) 0%,
        var(--gold-mid) 25%,
        var(--gold-dark) 50%,
        var(--gold) 75%,
        var(--gold-mid) 100%
      );
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      position: relative;
      overflow: hidden;
      min-height: 200px;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      cursor: pointer;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Burst container */
    .network-burst {
      position: absolute;
      width: 200px;
      height: 200px;
      pointer-events: none;
      opacity: 0;
      animation: burstAnimation 2s ease-out forwards;
    }
    @keyframes burstAnimation {
      0%   { opacity: 0; transform: scale(.3) rotate(0deg); }
      30%  { opacity: .85; }
      100% { opacity: 0; transform: scale(2) rotate(180deg); }
    }
    .network-burst svg { width: 100%; height: 100%; }
    .burst-line { stroke: rgba(255,255,255,.8); stroke-width: 1.5; fill: none; }
    .burst-dot  { fill: rgba(255,255,255,.95); }

    /* Banner content */
    .banner-content {
      position: relative;
      z-index: 10;
      padding: 32px 24px;
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
      min-height: 200px;
    }

    /* Unified Breadcrumbs Style */
    .banner-breadcrumbs {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 16px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 10px 16px;
      border-radius: 999px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08), inset 0 1px 3px rgba(255,255,255,0.5);
      border: 1px solid rgba(214, 177, 77, 0.2);
      transition: all 0.3s ease;
    }

    .banner-breadcrumbs:hover {
      background: rgba(255, 255, 255, 1);
      box-shadow: 0 6px 20px rgba(0,0,0,0.12), inset 0 1px 3px rgba(255,255,255,0.8);
      transform: translateY(-1px);
    }
    
    .banner-breadcrumbs a {
      color: var(--gold-dark);
      text-decoration: none;
      transition: all 0.2s;
      position: relative;
      font-weight: 600;
    }
    
    .banner-breadcrumbs a:hover {
      color: var(--gold);
      text-shadow: 0 0 8px rgba(214, 177, 77, 0.3);
    }

    .banner-breadcrumbs a::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 1px;
      background: var(--gold);
      transition: width 0.2s ease;
    }

    .banner-breadcrumbs a:hover::after {
      width: 100%;
    }
    
    .banner-breadcrumbs .sep {
      color: rgba(214, 177, 77, 0.4);
      font-weight: 400;
      margin: 0;
    }
    
    .banner-breadcrumbs span:not(.sep):not(a) {
      color: var(--gold);
      font-weight: 800;
      letter-spacing: 0.3px;
    }

    .banner-breadcrumbs::before {
      content: 'üìç';
      font-size: 14px;
      margin-right: 2px;
      opacity: 0.8;
    }

  /* Ï†úÎ™© (ÌÜµÏùº) */
  .banner-title {
    font-size: 2.5rem;
    font-weight: 900;
    color: #fff;
    text-shadow: 0 2px 4px rgba(0,0,0,0.12);
    letter-spacing: -0.02em;
    margin: 0;
  }
    /* Responsive for banner */
    @media (max-width: 768px) {
      .banner-content { 
        padding: 28px 20px;
        min-height: 160px;
      }
      .banner-section { min-height: 160px; }
      .banner-title { font-size: 2rem; }
      .banner-breadcrumbs {
        font-size: 12px;
        padding: 8px 14px;
        gap: 0.6rem;
      }
      .banner-breadcrumbs::before {
        font-size: 12px;
      }
    }
    @media (max-width: 640px) {
      .banner-content { 
        padding: 24px 16px;
        min-height: 140px;
      }
      .banner-section { min-height: 140px; }
      .banner-title { font-size: 1.75rem; }
      .banner-breadcrumbs { 
        font-size: 11px;
        padding: 7px 12px;
        gap: 0.5rem;
      }
      .banner-breadcrumbs::before {
        display: none;
      }
    }
    @media (max-width: 480px) {
      .banner-content { 
        padding: 20px 16px;
        min-height: 120px;
      }
      .banner-section { min-height: 120px; }
      .banner-title { font-size: 1.5rem; }
      .banner-breadcrumbs { 
        font-size: 10px;
        gap: 0.4rem;
        padding: 6px 10px;
      }
    }
  </style>

  <div class="banner-section" onclick="createNetworkBurst(event, this)">
    <div class="banner-content">
      <div>
        <nav aria-label="Breadcrumb" class="banner-breadcrumbs">
          <a href="{{ '/' | relative_url }}" onclick="event.stopPropagation()">Home</a>
          <span class="sep">‚Ä∫</span>
          <a href="{{ '/about-introduction.html' | relative_url }}" onclick="event.stopPropagation()">About FINDS</a>
          <span class="sep">‚Ä∫</span>
          <span aria-current="page">Location</span>
        </nav>
        <h1 class="banner-title">Location</h1>
      </div>
    </div>
  </div>
</section>

<script>
/* Interactive gold burst (cards suits) */
function createNetworkBurst(event, element) {
  const rect = element.getBoundingClientRect();
  const x = event.clientX - rect.left - 100;
  const y = event.clientY - rect.top  - 100;

  const networkDiv = document.createElement('div');
  networkDiv.className = 'network-burst';
  networkDiv.style.left = x + 'px';
  networkDiv.style.top  = y + 'px';

  const patterns = [generateHeartNetwork, generateClubNetwork, generateSpadeNetwork, generateDiamondNetwork];
  const randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
  networkDiv.innerHTML = randomPattern();

  element.appendChild(networkDiv);
  setTimeout(()=> element.removeChild(networkDiv), 2000);
}

/* Heart */
function generateHeartNetwork() {
  let svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const heartPath = 'M100,140 C80,120 40,100 40,70 C40,50 55,35 70,35 C85,35 95,45 100,55 C105,45 115,35 130,35 C145,35 160,50 160,70 C160,100 120,120 100,140 Z';
  svg += `<path d="${heartPath}" class="burst-line" stroke-width="2"/>`;
  const nodes = [
    {x:70,y:35},{x:130,y:35},
    {x:40,y:70},{x:160,y:70},
    {x:100,y:140},{x:60,y:50},{x:140,y:50},{x:80,y:90},{x:120,y:90}
  ];
  const connections = [[0,1],[0,2],[1,3],[2,4],[3,4],[0,5],[1,6],[5,7],[6,8],[7,8]];
  connections.forEach(([f,t])=> svg += `<line x1="${nodes[f].x}" y1="${nodes[f].y}" x2="${nodes[t].x}" y2="${nodes[t].y}" class="burst-line" opacity=".5"/>`);
  nodes.forEach(n=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${3 + Math.random()*2}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
/* Club */
function generateClubNetwork() {
  let svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const circles = [{x:100,y:60,r:25},{x:75,y:85,r:25},{x:125,y:85,r:25}];
  circles.forEach(c=> svg += `<circle cx="${c.x}" cy="${c.y}" r="${c.r}" class="burst-line" stroke-width="2"/>`);
  svg += `<line x1="100" y1="100" x2="100" y2="140" class="burst-line" stroke-width="3"/>`;
  const nodes=[];
  circles.forEach(c=>{
    for(let i=0;i<6;i++){ const a=i*2*Math.PI/6; nodes.push({x:c.x+c.r*Math.cos(a),y:c.y+c.r*Math.sin(a)}); }
  });
  nodes.push({x:100,y:100},{x:100,y:140});
  for(let i=0;i<nodes.length;i++){
    for(let j=i+1;j<nodes.length;j++){
      const dx=nodes[i].x-nodes[j].x, dy=nodes[i].y-nodes[j].y, d=Math.hypot(dx,dy);
      if(d<40){ svg += `<line x1="${nodes[i].x}" y1="${nodes[i].y}" x2="${nodes[j].x}" y2="${nodes[j].y}" class="burst-line" opacity="${0.3+(1-d/40)*0.4}"/>`; }
    }
  }
  nodes.forEach(n=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${2 + Math.random()*2}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
/* Spade */
function generateSpadeNetwork() {
  let svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const spadePath='M100,50 C80,50 60,65 60,85 C60,105 75,110 85,110 C90,110 95,108 100,105 C105,108 110,110 115,110 C125,110 140,105 140,85 C140,65 120,50 100,50 Z';
  svg += `<path d="${spadePath}" class="burst-line" stroke-width="2"/>`;
  svg += `<path d="M100,105 L90,130 L110,130 Z" class="burst-line" stroke-width="2"/>`;
  svg += `<line x1="100" y1="130" x2="100" y2="145" class="burst-line" stroke-width="3"/>`;
  const nodes=[{x:100,y:50},{x:75,y:70},{x:125,y:70},{x:60,y:85},{x:140,y:85},{x:85,y:110},{x:115,y:110},{x:100,y:105},{x:90,y:130},{x:110,y:130},{x:100,y:145}];
  const conn=[[0,1],[0,2],[1,3],[2,4],[3,5],[4,6],[5,7],[6,7],[7,8],[7,9],[8,10],[9,10]];
  conn.forEach(([f,t])=> svg += `<line x1="${nodes[f].x}" y1="${nodes[f].y}" x2="${nodes[t].x}" y2="${nodes[t].y}" class="burst-line" opacity=".4"/>`);
  nodes.forEach((n,i)=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${(i===0||i===7)?4:3}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
/* Diamond */
function generateDiamondNetwork() {
  let svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const diamond='M100,40 L140,100 L100,160 L60,100 Z';
  svg += `<path d="${diamond}" class="burst-line" stroke-width="2"/>`;
  svg += `<line x1="100" y1="40" x2="100" y2="160" class="burst-line" opacity=".55"/>`;
  svg += `<line x1="60" y1="100" x2="140" y2="100" class="burst-line" opacity=".55"/>`;
  svg += `<line x1="80" y1="70" x2="120" y2="130" class="burst-line" opacity=".3"/>`;
  svg += `<line x1="120" y1="70" x2="80" y2="130" class="burst-line" opacity=".3"/>`;
  const nodes=[{x:100,y:40},{x:140,y:100},{x:100,y:160},{x:60,y:100},{x:100,y:100},{x:80,y:70},{x:120,y:70},{x:80,y:130},{x:120,y:130},{x:120,y:100},{x:80,y:100}];
  for(let i=0;i<4;i++){ svg += `<line x1="${nodes[i].x}" y1="${nodes[i].y}" x2="${nodes[4].x}" y2="${nodes[4].y}" class="burst-line" opacity=".32"/>`; }
  nodes.forEach((n,i)=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${i<4?4:(i===4?5:2.5)}" class="burst-dot" opacity="${i===4?1:.85}"/>`);
  for(let i=0;i<4;i++){ const a=i*Math.PI/2; const x=100+30*Math.cos(a), y=100+30*Math.sin(a); svg += `<circle cx="${x}" cy="${y}" r="1.5" class="burst-dot" opacity=".65"/>`; }
  svg += '</svg>'; return svg;
}
</script>

<!-- ===== Map + Info ===== -->
<main class="max-w-7xl mx-auto px-4 mt-6 grid lg:grid-cols-3 gap-6">
  <!-- Map -->
  <div class="lg:col-span-2 card" id="kakao-map-wrap">
    <style>
      /* Page-local styles: map & cards reuse site tokens */
      #kakao-map{width:100%;height:380px;border-radius:12px;border:1px solid #e5e7eb}
      @media (min-width:768px){#kakao-map{height:460px}}
      .map-error{margin-top:10px;padding:12px;border-radius:8px;background:#fef2f2;color:#991b1b;font-weight:600;border:1px solid #fecaca;font-size:14px}
      
      /* ÏßÄÎèÑ Ïπ¥Îìú Ìå®Îî© Ï∂ïÏÜå */
      .card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:20px;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.06);transition:box-shadow 0.2s ease}
.card#kakao-map-wrap{padding:12px}
@media (min-width:768px){
  .card#kakao-map-wrap{padding:16px 16px 12px 16px} /* PCÏóêÏÑú ÏïÑÎûò Ìå®Îî©Îßå Ï§ÑÏûÑ */
}
      
      .card:hover{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}
      .info-row{display:flex;gap:12px;align-items:flex-start}
      
      /* Í∞úÏÑ†Îêú Î≤ÑÌäº Ïä§ÌÉÄÏùº - ÌÜµÏùºÎêú Ïä§ÌÉÄÏùº Ï†ÅÏö© */
      .copy-btn{
        display:inline-flex;
        align-items:center;
        gap:4px;
        height:28px;
        padding:0 10px;
        border-radius:8px;
        border:1px solid #d1d5db;
        background:#ffffff;
        font-weight:600; /* bold Ï≤òÎ¶¨ */
        font-size:12px;
        color:#374151;
        cursor:pointer;
        transition:all 0.15s ease;
        white-space:nowrap
      }
      .copy-btn:hover{
        background:#f8fafc;
        border-color:#9ca3af;
        transform:translateY(-1px);
        box-shadow:0 2px 4px rgba(0,0,0,.1)
      }
      .copy-btn:active{
        transform:translateY(0);
        box-shadow:0 1px 2px rgba(0,0,0,.1)
      }
      .copy-btn.copied{
        background:#10b981;
        border-color:#10b981;
        color:white
      }
      
      /* ÏßÄÎèÑ Ïª®Ìä∏Î°§ Î≤ÑÌäºÎì§ - Ìè∞Ìä∏ ÌÅ¨Í∏∞ ÌÜµÏùº */
      .map-controls{
        margin-top:8px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:8px
      }
      .control-btn{
        display:inline-flex;
        align-items:center;
        gap:6px;
        height:32px;
        padding:0 12px;
        border-radius:8px;
        border:1px solid #e5e7eb;
        background:#fff;
        font-weight:600;
        font-size:12px; /* 12pxÎ°ú ÌÜµÏùº */
        color:#374151;
        text-decoration:none;
        transition:all 0.15s ease
      }
      .control-btn:hover{
        background:#f8fafc;
        border-color:#9ca3af;
        transform:translateY(-1px);
        box-shadow:0 2px 4px rgba(0,0,0,.1)
      }
      
      /* Ïπ¥Îìú Ìó§Îçî */
      .card-header{
        background:linear-gradient(135deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 85%, #000) 100%);
        color:white;
        text-align:center;
        font-weight:800;
        border-radius:12px;
        margin:-20px -20px 16px -20px;
        padding:14px 16px;
        box-shadow:0 2px 4px rgba(0,0,0,.1)
      }
      .card-header.secondary{
        background:linear-gradient(135deg, var(--accent2) 0%, color-mix(in srgb, var(--accent2) 85%, #000) 100%)
      }
      .card-header .subtitle{
        opacity:0.9;
        font-weight:500;
        font-size:13px;
        margin-top:2px
      }
      
      /* Ï£ºÏÜå ÌÖçÏä§Ìä∏ */
      .address-section{
        background:#f8fafc;
        border-radius:8px;
        padding:12px;
        margin-top:8px;
        border:1px solid #e2e8f0
      }
      .address-korean{
        font-weight:600;
        color:#1f2937;
        font-size:14px;
        line-height:1.4;
        margin-bottom:6px;
        word-break:keep-all;
        word-wrap:break-word;
        overflow-wrap:break-word
      }
      .address-english{
        color:#6b7280;
        font-size:12px;
        line-height:1.4;
        margin-bottom:8px;
        word-break:keep-all;
        word-wrap:break-word;
        overflow-wrap:break-word
      }
      
      .location-icon{font-size:18px;margin-top:2px;flex-shrink:0;opacity:0.8}
      .breadcrumbs a{text-decoration:underline;text-underline-offset:2px}
      
      /* Î™®Î∞îÏùº ÏµúÏ†ÅÌôî */
      @media (max-width: 640px) {
        #kakao-map{height:300px}
        .card{padding:16px}
        .card#kakao-map-wrap{padding:10px}
        .card-header{margin:-16px -16px 12px -16px;padding:12px;font-size:14px}
        .card-header .subtitle{font-size:12px}
        .map-controls{flex-direction:column;align-items:stretch}
        .control-btn{justify-content:center}
        .address-section{padding:10px}
        .address-korean{font-size:13px}
        .address-english{font-size:11px}
        .copy-btn{font-size:11px;height:26px;padding:0 8px}
        .control-btn{font-size:11px}
      }
    </style>

    <!-- aria-label ÏàòÏ†ï: Ïù∏Î¨∏Í¥Ä -->
    <div id="kakao-map" role="img" aria-label="ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê Ïù∏Î¨∏Í¥Ä ÏúÑÏπò ÏßÄÎèÑ"></div>
    <div id="mapError" class="map-error" style="display:none;"></div>

    <!-- ÌïòÎã® Ìà¥Î∞î -->
    <div class="map-controls">
      <div class="text-xs text-slate-500">üìç ÌÅ¥Î¶≠ÌïòÏó¨ ÏûêÏÑ∏Ìïú ÏúÑÏπòÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî</div>
      <div class="flex gap-2">
        <button id="btnRecenter" class="control-btn" title="ÏßÄÎèÑ Îã§Ïãú ÎßûÏ∂îÍ∏∞">
          üéØ Re-center
        </button>
        <a id="btnDirections" href="#" target="_blank" rel="noopener noreferrer" class="control-btn" title="Ïπ¥Ïπ¥Ïò§Îßµ Í∏∏Ï∞æÍ∏∞">
          üß≠ Directions
        </a>
      </div>
    </div>
  </div>

  <!-- Right column: two stacked cards -->
  <aside class="space-y-6">
    <!-- FINDS Lab -->
    <section class="card">
      <div class="card-header">
        <div class="text-base font-extrabold">Í∏àÏúµÎç∞Ïù¥ÌÑ∞Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§ Ïó∞Íµ¨Ïã§</div>
        <div class="subtitle">FINDS Lab.</div>
      </div>
      <h3 class="text-lg font-bold text-slate-900 mb-3">ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê Ïù∏Î¨∏Í¥Ä 706Ìò∏</h3>
      
      <div class="address-section">
        <div class="address-korean">
          üìç (02748) ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑ±Î∂ÅÍµ¨ ÌôîÎûëÎ°ú13Í∏∏ 60<br>
          ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê <strong>Ïù∏Î¨∏Í¥Ä 706Ìò∏</strong>
        </div>
        <div class="address-english">
          <strong>Room 706</strong>, <strong>Humanities Hall</strong><br>
          Dongduk Women's University<br>
          60 Hwarang-ro 13-gil, Seongbuk-gu, Seoul
        </div>
        <button class="copy-btn" data-copy-addr title="Ï£ºÏÜå Î≥µÏÇ¨">
          üìã Copy address
        </button>
      </div>
    </section>

    <!-- Professor's Office -->
    <section class="card">
      <div class="card-header secondary">
        <div class="text-base font-extrabold">ÏµúÏù∏Ïàò ÍµêÏàò Ïó∞Íµ¨Ïã§</div>
        <div class="subtitle">Prof. Insu Choi's Office</div>
      </div>
      <h3 class="text-lg font-bold text-slate-900 mb-3">ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê Ïù∏Î¨∏Í¥Ä 706Ìò∏</h3>
      
      <div class="address-section">
        <div class="address-korean">
          üìç (02748) ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑ±Î∂ÅÍµ¨ ÌôîÎûëÎ°ú13Í∏∏ 60<br>
          ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê <strong>Ïù∏Î¨∏Í¥Ä 706Ìò∏</strong>
        </div>
        <div class="address-english">
          <strong>Room 706</strong>, <strong>Humanities Hall</strong><br>
          Dongduk Women's University<br>
          60 Hwarang-ro 13-gil, Seongbuk-gu, Seoul
        </div>
        <button class="copy-btn" data-copy-addr title="Ï£ºÏÜå Î≥µÏÇ¨">
          üìã Copy address
        </button>
      </div>
    </section>
  </aside>
</main>

<!-- ===== Page-specific Scripts ===== -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=2288f6c721287408c4bdc22f994230ad&libraries=services&autoload=false"></script>
<script>
  (function(){
    // ----- Constants -----
    const PLACE_NAME   = 'ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê Ïù∏Î¨∏Í¥Ä';
    const ADDRESS_TEXT = '(02748) ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑ±Î∂ÅÍµ¨ ÌôîÎûëÎ°ú13Í∏∏ 60 ÎèôÎçïÏó¨ÏûêÎåÄÌïôÍµê Ïù∏Î¨∏Í¥Ä 706Ìò∏';
    // Í≤ÄÏÉâ Ïã§Ìå® Ïãú ÏÇ¨Ïö©Ìï† Í∑ºÏÇ¨ Ï¢åÌëú
    const FALLBACK = { lat: 37.6067, lng: 127.0505 };

    const elMap = document.getElementById('kakao-map');
    const elErr = document.getElementById('mapError');
    const elBtnRecenter = document.getElementById('btnRecenter');
    const elBtnDirections = document.getElementById('btnDirections');

    /** Kakao objs */
    let map = null;
    let marker = null;
    let infoWindow = null;
    let finalCenter = null;

    function showError(msg){
      elErr.style.display = 'block';
      elErr.textContent = msg;
    }

    function setDirectionsLink(lat, lng, name){
      const url = `https://map.kakao.com/link/to/${encodeURIComponent(name)},${lat},${lng}`;
      elBtnDirections.setAttribute('href', url);
    }

    function createOrMoveMarker(latLng) {
      if (!marker) {
        marker = new kakao.maps.Marker({ position: latLng });
        marker.setMap(map);
      } else {
        marker.setPosition(latLng);
      }
    }

    function openInfo(latLng, name) {
      const html = `
        <div style="padding:8px 10px;line-height:1.4;">
          <div style="font-weight:700;font-size:12px;margin-bottom:2px;">${name}</div>
          <div style="font-weight:500;color:#4b5563;font-size:10px;">FINDS Lab.</div>
        </div>`;
      if (!infoWindow) {
        infoWindow = new kakao.maps.InfoWindow({ content: html, removable: false });
      } else {
        infoWindow.setContent(html);
      }
      infoWindow.open(map, marker);
    }

    function wireButtons(){
      elBtnRecenter.addEventListener('click', function(){
        if(map && finalCenter){
          map.setCenter(finalCenter);
          map.setLevel(3);
        }
      });

      document.querySelectorAll('[data-copy-addr]').forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          try{
            await navigator.clipboard.writeText(ADDRESS_TEXT);
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ Copied!';
            btn.classList.add('copied');
            setTimeout(()=>{ 
              btn.textContent = originalText;
              btn.classList.remove('copied');
            }, 2000);
          }catch(err){
            alert('Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.');
          }
        });
      });
    }

    function locateByKeyword(){
      const places = new kakao.maps.services.Places();
      places.keywordSearch(PLACE_NAME, function(data, status){
        if(status === kakao.maps.services.Status.OK && data && data.length){
          // "Ïù∏Î¨∏Í¥Ä" Ìè¨Ìï® Í≤∞Í≥º Ïö∞ÏÑ† ÏÇ¨Ïö©
          const exact = data.find(d => (d.place_name||'').includes('Ïù∏Î¨∏Í¥Ä')) || data[0];
          const lat = parseFloat(exact.y), lng = parseFloat(exact.x);
          finalCenter = new kakao.maps.LatLng(lat, lng);
          map.setCenter(finalCenter);
          map.setLevel(3);
          createOrMoveMarker(finalCenter);
          openInfo(finalCenter, exact.place_name || PLACE_NAME);
          setDirectionsLink(lat, lng, exact.place_name || PLACE_NAME);
        }else{
          // Í≤ÄÏÉâ Ïã§Ìå® Ïãú: FallbackÏóê Îã®Ïùº ÎßàÏª§
          finalCenter = new kakao.maps.LatLng(FALLBACK.lat, FALLBACK.lng);
          map.setCenter(finalCenter);
          createOrMoveMarker(finalCenter);
          openInfo(finalCenter, PLACE_NAME);
          setDirectionsLink(FALLBACK.lat, FALLBACK.lng, PLACE_NAME);
          showError('ÏßÄÏò§ÏΩîÎî© Í≤∞Í≥ºÎ•º Ï∞æÏßÄ Î™ªÌï¥ Í∑ºÏÇ¨ ÏúÑÏπòÎ°ú ÌëúÏãúÌñàÏäµÎãàÎã§.');
        }
      }, { size: 5 });
    }

    function bootstrap(){
      try{
        kakao.maps.load(function(){
          const initCenter = new kakao.maps.LatLng(FALLBACK.lat, FALLBACK.lng);
          map = new kakao.maps.Map(elMap, { center: initCenter, level: 3 });

          if (kakao.maps.CopyrightPosition) {
            map.setCopyrightPosition(kakao.maps.CopyrightPosition.BOTTOMRIGHT, true);
          }

          locateByKeyword();
          wireButtons();
        });
      }catch(e){
        showError('ÏßÄÎèÑÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.');
      }
    }

    // autoload=false Ïù¥ÎØÄÎ°ú Î™ÖÏãúÏ†ÅÏúºÎ°ú Î∂ÄÌåÖ
    if (window.kakao && kakao.maps) {
      bootstrap();
    } else {
      window.addEventListener('load', ()=>{
        if(window.kakao && kakao.maps){ bootstrap(); }
        else showError('Ïπ¥Ïπ¥Ïò§ ÏßÄÎèÑ SDK Î°úÎî©Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
      });
    }
  })();
</script>



