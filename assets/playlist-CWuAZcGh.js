import{j as e}from"./index-DCvr7iKE.js";import{L as w}from"./index-DA2oEDTT.js";import{r as l,L as N}from"./vendor-CCJnzKah.js";import{H as z,a6 as m,f as k,g as I,X as P}from"./ui-BWNim40d.js";const p=()=>{const[x,u]=l.useState([]),[f,y]=l.useState(!0),[t,h]=l.useState(null),[a,n]=l.useState(!1);l.useEffect(()=>{(async()=>{const o="/website/";try{const j=(await(await fetch(`${o}data/playlist/ischoi.json`)).text()).replace(/,(\s*[}\]])/g,"$1"),v=JSON.parse(j).items.map(r=>{const c=r.url.split("v=")[1]?.split("&")[0]||"";return{artist:r.artist||"Unknown Artist",title:r.title||"Unknown Title",date:r.date||"",thumbnail:c?`https://img.youtube.com/vi/${c}/maxresdefault.jpg`:void 0,youtubeUrl:r.url,videoId:c}});u(v)}catch(i){console.error("Failed to load playlists:",i)}finally{y(!1)}})()},[]);const g=s=>{s.videoId&&(h(s),n(!1))},b=()=>{h(null),n(!1)};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100",children:e.jsx("div",{className:"max-w-1480 mx-auto px-12 md:px-20",children:e.jsxs("div",{className:"flex items-center justify-between h-40 md:h-48",children:[e.jsxs(N,{to:"/",className:"flex items-center gap-6 px-10 py-6 bg-gray-100 hover:bg-primary hover:text-white text-gray-600 rounded-lg transition-all text-[11px] font-semibold",title:"FINDS Lab 홈으로",children:[e.jsx(z,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"FINDS Lab"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{size:14,className:"text-primary"}),e.jsx("span",{className:"text-[11px] md:text-xs font-bold text-gray-900",children:"Playlist"})]}),e.jsx("div",{className:"w-60 sm:w-80"})]})})}),e.jsx("div",{className:`flex-1 max-w-1480 mx-auto w-full px-12 md:px-16 py-16 md:py-24 ${t?"pb-[200px] md:pb-[240px]":""}`,children:f?e.jsx("div",{className:"flex items-center justify-center py-48",children:e.jsx("div",{className:"w-24 h-24 border-2 border-primary/20 border-t-primary rounded-full animate-spin"})}):x.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-12 md:gap-16",children:x.map((s,o)=>e.jsxs("div",{onClick:()=>g(s),className:`bg-white border rounded-xl overflow-hidden hover:shadow-lg transition-all group cursor-pointer ${t?.videoId===s.videoId?"border-primary ring-2 ring-primary/20":"border-gray-100 hover:border-primary/20"}`,children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100 overflow-hidden",children:[s.thumbnail?e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:i=>{const d=i.target;d.src.includes("maxresdefault")&&(d.src=d.src.replace("maxresdefault","hqdefault"))}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center",children:e.jsx(m,{className:"w-24 h-24 text-primary/30"})}),t?.videoId===s.videoId&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-8 bg-white rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-12 bg-white rounded-full animate-pulse",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-6 bg-white rounded-full animate-pulse",style:{animationDelay:"300ms"}}),e.jsx("div",{className:"w-2 h-10 bg-white rounded-full animate-pulse",style:{animationDelay:"450ms"}})]})})]}),e.jsxs("div",{className:"p-12 md:p-14",children:[e.jsx("p",{className:"text-[11px] md:text-xs text-gray-500 mb-4 truncate font-bold",children:s.artist}),e.jsx("h3",{className:"text-[11px] md:text-xs font-bold text-gray-900 group-hover:text-primary transition-colors line-clamp-2 leading-relaxed",children:s.title})]})]},o))}):e.jsxs("div",{className:"bg-white rounded-xl p-32 md:p-48 text-center",children:[e.jsx("div",{className:"w-48 h-48 md:w-56 md:h-56 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-16",children:e.jsx(m,{className:"w-24 h-24 md:w-28 md:h-28 text-gray-300"})}),e.jsx("p",{className:"text-sm md:text-base font-semibold text-gray-900 mb-6",children:"플레이리스트 준비 중"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"아직 등록된 영상이 없습니다."})]})}),t&&e.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-gray-900 shadow-2xl z-50 transition-all duration-300 ${a?"h-[60px]":"h-auto"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-12 md:px-20 py-8 border-b border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-12 flex-1 min-w-0",children:[a&&e.jsx("img",{src:t.thumbnail?.replace("maxresdefault","default"),alt:t.title,className:"w-40 h-40 object-cover rounded-md"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-gray-400 text-[10px] md:text-xs truncate",children:t.artist}),e.jsx("h2",{className:"text-white font-semibold text-xs md:text-sm truncate",children:t.title})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("button",{onClick:()=>n(!a),className:"p-8 text-gray-400 hover:text-white transition-colors",title:a?"확대":"최소화",children:a?e.jsx(k,{size:18}):e.jsx(I,{size:18})}),e.jsx("button",{onClick:b,className:"p-8 text-gray-400 hover:text-red-400 transition-colors",title:"닫기",children:e.jsx(P,{size:18})})]})]}),e.jsx("div",{className:`${a?"h-0 overflow-hidden":"aspect-video max-h-[50vh]"}`,children:e.jsx("iframe",{src:`https://www.youtube-nocookie.com/embed/${t.videoId}?autoplay=1&rel=0&modestbranding=1`,title:t.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]})};l.memo(p);const M=()=>e.jsx(w,{children:e.jsx(p,{})});export{M as ArchivesPlaylist};
