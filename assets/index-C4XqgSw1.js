import{c as M,u as F,r as o,j as e,L as A,a as d}from"./index-Tgrbomq4.js";import{C as R,L as B}from"./index-2WrujwzY.js";import{b as D,S as H}from"./3-D5zmpW9j.js";import{B as S}from"./briefcase-CPnQRbMJ.js";import{G}from"./graduation-cap-vf9cOW4s.js";import{H as O}from"./house-C21o2Jy0.js";import{S as _}from"./search-DJuql4ES.js";import{C as K}from"./chevron-up-Cn5ZpsZP.js";const Q=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],V=M("building-2",Q);const W=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],q=M("landmark",W),w={government:{label:"Government",color:"bg-blue-500",bgLight:"bg-blue-50",textColor:"text-blue-700",icon:q},industry:{label:"Industry",color:"bg-emerald-500",bgLight:"bg-emerald-50",textColor:"text-emerald-700",icon:V},institution:{label:"Institution",color:"bg-purple-500",bgLight:"bg-purple-50",textColor:"text-purple-700",icon:G},academic:{label:"Academic",color:"bg-orange-500",bgLight:"bg-orange-50",textColor:"text-orange-700",icon:S}},U=({filters:x,options:a,onChange:j,onReset:N,onClose:y})=>{const p=[{key:"type",label:"Project Type",items:a.types},{key:"year",label:"Year",items:a.years}];return e.jsxs("div",{className:"flex flex-col gap-20 p-20",children:[p.map(c=>e.jsxs("div",{className:"flex flex-col gap-16",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:c.label}),e.jsx("div",{className:"flex flex-wrap gap-8",children:c.items.map(l=>{const f=x[c.key].includes(l);return e.jsx("button",{onClick:()=>{j(c.key,l),y()},className:d("px-16 py-8 rounded-lg text-sm font-medium transition-all border",f?"bg-primary text-white border-primary shadow-sm":"bg-white text-[#7f8894] border-[#f0f0f0] hover:border-primary/30 hover:bg-gray-50"),children:l},l)})})]},c.key)),e.jsx("div",{className:"flex justify-end pt-16 border-t border-gray-100",children:e.jsx("button",{onClick:N,className:"px-16 py-8 text-sm font-medium text-gray-400 hover:text-primary transition-colors",children:"Reset all filters"})})]})},k=x=>{const a=x.match(/^(\d{4})/);return a?a[1]:""},L=x=>{const a=x.match(/^(\d{4})-(\d{2})-(\d{2})/);return a?new Date(`${a[1]}-${a[2]}-${a[3]}`):new Date},$=()=>{const{showModal:x}=F(),[a,j]=o.useState([]),[N,y]=o.useState(!0),[p,c]=o.useState(""),[l,f]=o.useState({type:[],year:[]}),[g,C]=o.useState(null);o.useEffect(()=>{fetch("/website/data/projects.json").then(t=>t.json()).then(t=>{j(t),y(!1)}).catch(t=>{console.error("Failed to load projects:",t),y(!1)})},[]);const E=o.useMemo(()=>{const t=[...new Set(a.map(r=>w[r.type]?.label||r.type))].sort(),s=[...new Set(a.map(r=>k(r.period)))].filter(Boolean).sort((r,n)=>Number(n)-Number(r));return{types:t,years:s}},[a]),v=o.useMemo(()=>a.filter(t=>{if(p){const s=p.toLowerCase();if(!`${t.titleEn} ${t.titleKo} ${t.fundingAgency} ${t.fundingAgencyKo||""}`.toLowerCase().includes(s))return!1}if(l.type.length>0){const s=w[t.type]?.label||t.type;if(!l.type.includes(s))return!1}if(l.year.length>0){const s=k(t.period);if(!l.year.includes(s))return!1}return!0}),[a,p,l]),b=o.useMemo(()=>{const t={};return v.forEach(s=>{const r=k(s.period);t[r]||(t[r]=[]),t[r].push(s)}),Object.keys(t).forEach(s=>{t[s].sort((r,n)=>L(n.period).getTime()-L(r.period).getTime())}),t},[v]),h=o.useMemo(()=>Object.keys(b).sort((t,s)=>Number(s)-Number(t)),[b]),I=t=>{const s=b[t]||[];return{government:s.filter(n=>n.type==="government").length,industry:s.filter(n=>n.type==="industry").length,institution:s.filter(n=>n.type==="institution").length,academic:s.filter(n=>n.type==="academic").length,total:s.length}},Y=(t,s)=>{f(r=>({...r,[t]:r[t].includes(s)?r[t].filter(n=>n!==s):[...r[t],s]}))},z=()=>{f({type:[],year:[]}),c("")};return o.useEffect(()=>{h.length>0&&g===null&&C(h[0])},[h,g]),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative w-full h-200 md:h-332 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${D})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsx("h1",{className:"text-2xl md:text-[36px] font-semibold text-white text-center",children:"Projects"})})]}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-16 md:px-20 py-20 md:py-40",children:e.jsxs("div",{className:"flex items-center gap-8 md:gap-10 flex-wrap",children:[e.jsx(A,{to:"/",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(O,{size:16})}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-sm md:text-base text-primary font-medium",children:"Projects"})]})}),e.jsxs("section",{className:"max-w-1480 mx-auto w-full px-16 md:px-20 pb-60 md:pb-120",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-12 md:gap-16 mb-24 md:mb-32",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_,{className:"absolute left-14 top-1/2 -translate-y-1/2 size-18 text-gray-400"}),e.jsx("input",{type:"text",value:p,onChange:t=>c(t.target.value),placeholder:"Search by project title, funding agency...",className:"w-full pl-44 pr-16 py-14 border border-gray-200 rounded-xl text-sm md:text-base focus:outline-none focus:border-primary transition-colors"})]}),e.jsxs("button",{onClick:()=>x({title:"Filter Projects",maxWidth:"500px",children:e.jsx(U,{filters:l,options:E,onChange:Y,onReset:z,onClose:()=>{}})}),className:"flex items-center justify-center gap-8 px-20 py-14 bg-gray-50 border border-gray-200 rounded-xl text-sm md:text-base font-medium text-gray-700 hover:bg-gray-100 transition-colors shrink-0",children:[e.jsx(H,{size:18}),"Filters",(l.type.length>0||l.year.length>0)&&e.jsx("span",{className:"w-20 h-20 bg-primary text-white text-xs font-bold rounded-full flex items-center justify-center",children:l.type.length+l.year.length})]}),e.jsxs("div",{className:"px-12 md:px-16 py-12 md:py-16 bg-gray-50 border border-gray-100 rounded-xl text-sm md:text-base font-medium text-gray-500 text-center shrink-0",children:[v.length," of ",a.length]})]}),N?e.jsx("div",{className:"bg-gray-50 rounded-2xl p-60 text-center",children:e.jsx("p",{className:"text-md text-gray-500",children:"Loading projects..."})}):h.length>0?e.jsx("div",{className:"flex flex-col gap-16",children:h.map(t=>{const s=I(t),r=b[t]||[],n=new Date().getFullYear(),u=t===String(n);return e.jsxs("div",{className:d("border rounded-2xl overflow-hidden shadow-sm",u?"border-amber-300":"border-gray-100"),children:[e.jsxs("button",{onClick:()=>C(g===t?null:t),className:d("w-full flex items-center justify-between px-24 py-20 transition-colors",u?"bg-amber-100 hover:bg-amber-200":"bg-gray-50 hover:bg-gray-100"),children:[e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx("span",{className:d("text-lg font-semibold",u?"text-amber-800":"text-gray-900"),children:t}),u&&e.jsx("span",{className:"px-8 py-2 bg-amber-500 text-white text-[10px] md:text-xs font-semibold rounded-full",children:"NEW"})]}),e.jsxs("span",{className:d("text-sm md:text-base",u?"text-amber-700":"text-gray-500"),children:[s.government>0&&`${s.government} Government`,s.industry>0&&` · ${s.industry} Industry`,s.institution>0&&` · ${s.institution} Institution`,s.academic>0&&` · ${s.academic} Academic`]})]}),g===t?e.jsx(K,{className:"size-20 text-gray-500"}):e.jsx(R,{className:"size-20 text-gray-500"})]}),g===t&&e.jsx("div",{className:"flex flex-col",children:r.length===0?e.jsx("div",{className:"p-32 md:p-40 text-center bg-white border-t border-gray-100",children:e.jsx("p",{className:"text-sm md:text-base text-gray-500",children:"등록된 프로젝트가 없습니다."})}):r.map((i,P)=>{const m=w[i.type],T=m?.icon||S;return e.jsx("div",{className:"p-20 md:p-24 bg-white border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-16 md:gap-20",children:[e.jsxs("div",{className:"flex flex-col items-center shrink-0 w-70 md:w-90",children:[e.jsx("div",{className:d("w-full py-6 md:py-8 rounded-t-lg text-center",m?.color||"bg-gray-500"),children:e.jsx("span",{className:"text-[9px] md:text-xs font-semibold text-white uppercase tracking-wide",children:m?.label||i.type})}),e.jsx("div",{className:d("w-full py-8 md:py-12 rounded-b-lg flex items-center justify-center",m?.bgLight||"bg-gray-100"),children:e.jsx(T,{className:d("size-20 md:size-24",m?.textColor||"text-gray-600")})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[e.jsx("span",{className:d("px-8 py-4 rounded-md text-[10px] md:text-xs font-bold border",m?.bgLight,m?.textColor),children:i.fundingAgency}),i.amount&&i.amount!=="N/A"&&e.jsx("span",{className:"px-8 py-4 bg-gray-100 border border-gray-200 rounded-md text-[10px] md:text-xs font-medium text-gray-600",children:i.amount})]}),e.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 leading-relaxed mb-6",children:i.titleEn}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mb-10",children:i.titleKo}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-[10px] md:text-xs text-gray-500",children:[i.roles.principalInvestigator&&e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"PI:"})," ",i.roles.principalInvestigator]}),i.roles.leadResearcher&&e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"Lead:"})," ",i.roles.leadResearcher]})]})]}),e.jsx("div",{className:"flex flex-col items-start md:items-end gap-4 shrink-0",children:e.jsx("span",{className:"text-xs md:text-sm text-gray-500 whitespace-nowrap",children:i.period})})]})},P)})})]},t)})}):e.jsx("div",{className:"bg-gray-50 rounded-2xl p-60 text-center",children:e.jsx("p",{className:"text-md text-gray-500",children:"검색 결과가 없습니다."})})]})]})};o.memo($);const le=()=>e.jsx(B,{children:e.jsx($,{})});export{le as Projects};
