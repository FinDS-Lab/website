import{c as f,r,u,j as e,L as y}from"./index-DVZfgSmi.js";import{L as b}from"./index-BpPhFhH_.js";import{p as h,a as j}from"./parseMarkdown-C2wjcR5T.js";import{b as N}from"./4-CA_YKpep.js";import{H as v}from"./house-CJWMSZVE.js";import{C as w}from"./calendar-BCSZJiHp.js";const k=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],L=f("image",k),G=({id:t})=>{const[c,i]=r.useState(""),[o,m]=r.useState(!0);return r.useEffect(()=>{fetch(`/website/data/gallery/${t}/index.md`).then(s=>s.text()).then(s=>{const{data:l,content:a}=h(s);!l.date&&t.match(/^\d{4}-\d{2}-\d{2}/)&&(l.date=t.slice(0,10));const d=j(a,l,{basePath:"/website"});i(d),m(!1)})},[t]),o?e.jsx("div",{className:"p-60 text-center text-gray-500",children:"Loading..."}):e.jsx("div",{className:"archive-detail-content max-h-[80vh]",children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:c}})})},p=()=>{const[t,c]=r.useState([]),[i,o]=r.useState(!0),{showModal:m}=u();return r.useEffect(()=>{const s=["2025-09-01-1"];(async()=>{try{const a=await Promise.all(s.map(async d=>{const g=await(await fetch(`/website/data/gallery/${d}/index.md`)).text(),{data:n}=h(g);return{id:d,title:n.title||"No Title",date:n.date||"",thumb:n.thumb||"",tags:Array.isArray(n.tags)?n.tags:[]}}));c(a.sort((d,x)=>x.date.localeCompare(d.date)))}catch(a){console.error("Failed to load galleries:",a)}finally{o(!1)}})()},[]),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative w-full h-200 md:h-332 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${N})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsx("h1",{className:"text-2xl md:text-[36px] font-semibold text-white text-center",children:"Gallery"})})]}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-16 md:px-20 py-20 md:py-40",children:e.jsxs("div",{className:"flex items-center gap-8 md:gap-10 flex-wrap",children:[e.jsx(y,{to:"/",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(v,{size:16})}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-sm md:text-base text-gray-400",children:"Archives"}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-sm md:text-base text-primary font-medium",children:"Gallery"})]})}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-16 md:px-20 pb-60 md:pb-100",children:i?e.jsx("div",{className:"bg-[#f9fafb] rounded-xl md:rounded-[20px] p-32 md:p-60 text-center text-sm md:text-base text-gray-500 font-medium",children:"Loading galleries from markdown files..."}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-16 md:gap-20",children:t.map(s=>e.jsxs("div",{onClick:()=>m({maxWidth:"900px",children:e.jsx(G,{id:s.id})}),className:"bg-white border border-[#f0f0f0] rounded-xl md:rounded-[20px] overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"aspect-[4/3] bg-[#f9fafb] flex items-center justify-center overflow-hidden",children:s.thumb?e.jsx("img",{src:`/website/data/gallery/${s.id}/${s.thumb}`,alt:s.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300"}):e.jsx(L,{className:"size-32 md:size-40 text-[#cdcdcd]"})}),e.jsxs("div",{className:"p-16 md:p-20",children:[e.jsxs("div",{className:"flex items-center gap-6 md:gap-8 mb-6 md:mb-8",children:[e.jsx(w,{className:"size-12 md:size-14 text-gray-500"}),e.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-500",children:s.date})]}),e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-8 md:mb-12",children:s.title}),e.jsx("div",{className:"flex flex-wrap gap-4 md:gap-6",children:s.tags.map((l,a)=>e.jsxs("span",{className:"px-8 md:px-10 py-3 md:py-4 bg-gray-50 text-gray-500 text-[10px] md:text-xs rounded-full border border-gray-100",children:["#",l]},a))})]})]},s.id))}):e.jsx("div",{className:"bg-[#f9fafb] rounded-[20px] p-60 text-center text-gray-500",children:"No gallery items found in markdown folder."})})]})};r.memo(p);const $=()=>e.jsx(b,{children:e.jsx(p,{})});export{$ as ArchivesGallery};
