<!-- Header / Global Nav -->
<header class="fixed-header" style="position: fixed; top: 0; left: 0; right: 0; z-index: 9999; background: rgba(214, 177, 77, 0.92); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,255,255,0.4); box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 70px;">
  <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between gap-4">
    
    <!-- Brand -->
    <a href="{{ '/' | relative_url }}" class="flex items-center gap-3 group" aria-label="FINDS Lab Home">
      <img src="{{ '/assets/img/brand/logo-finds.png' | relative_url }}" 
           alt="FINDS Lab Logo" 
           class="h-10 w-10 rounded-lg ring-2 ring-white/50 object-contain bg-white shadow-sm transition-transform group-hover:scale-105" />
      <div class="leading-tight">
        <div class="text-sm font-extrabold tracking-tight text-white drop-shadow-sm">FINDS Lab.</div>
        <div class="text-[11px] font-bold text-white/90 tracking-wide">Dongduk Women's University</div>
      </div>
    </a>
    
    <!-- Desktop Nav -->
    <nav class="flex items-center gap-6 desktop-nav" aria-label="Primary">
      <a class="nav-link" href="{{ '/' | relative_url }}">Home</a>
      
      <!-- About -->
      <div class="menu-group" data-menu>
        <a class="nav-link" href="{{ '/about-introduction.html' | relative_url }}">About FINDS</a>
        <div class="submenu-panel" role="menu">
          <a href="{{ '/about-introduction.html' | relative_url }}">Introduction</a>
          <a href="{{ '/about-vision-area.html' | relative_url }}">Research Areas</a>
          <a href="{{ '/about-honors.html' | relative_url }}">Honors & Awards</a>
          <a href="{{ '/about-location.html' | relative_url }}">Location</a>
        </div>
      </div>
      
      <!-- Members -->
      <div class="menu-group" data-menu>
        <a class="nav-link" href="{{ '/members-director.html' | relative_url }}">Members</a>
        <div class="submenu-panel" role="menu">
          <a href="{{ '/members-director.html' | relative_url }}">Director</a>
          <a href="{{ '/members-current.html' | relative_url }}">Current Members</a>
          <a href="{{ '/members-alumni.html' | relative_url }}">Alumni</a>
        </div>
      </div>
      
      <a class="nav-link" href="{{ '/publications.html' | relative_url }}">Publications</a>
      <a class="nav-link" href="{{ '/lectures.html' | relative_url }}">Lectures</a>
      <a class="nav-link" href="{{ '/projects.html' | relative_url }}">Projects</a>
      
      <!-- Archives -->
      <div class="menu-group" data-menu>
        <a class="nav-link" href="{{ '/archives-news.html' | relative_url }}">Archives</a>
        <div class="submenu-panel" role="menu">
          <a href="{{ '/archives-news.html' | relative_url }}">News</a>
          <a href="{{ '/archives-notice.html' | relative_url }}">Notice</a>
          <a href="{{ '/archives-seminar.html' | relative_url }}">Seminar</a>
          <a href="{{ '/archives-gallery.html' | relative_url }}">Gallery</a>
          <a href="{{ '/archives-playlist.html' | relative_url }}">Playlist</a>
        </div>
      </div>
    </nav>
    
    <!-- Mobile Toggle -->
    <div class="flex items-center gap-2">
      <button id="btnMobile" 
              class="mobile-menu-toggle inline-flex items-center justify-center h-10 w-10 rounded-lg bg-white/20 border border-white/30 text-white hover:bg-white/30 transition-colors" 
              aria-label="Open menu" 
              aria-expanded="false" 
              aria-controls="mobileNav">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </div>
  

<!-- Mobile Nav - 구조 수정 -->
<div id="mobileNav" class="mobile-nav-panel hidden">
  <div class="mobile-nav-inner">
    <a class="mobile-link" href="{{ '/' | relative_url }}">Home</a>
    
    <!-- About (Accordion) -->
    <div class="mobile-accordion-wrapper">
      <div class="mobile-accordion-header">
        <a class="mobile-link" href="{{ '/about-introduction.html' | relative_url }}">About FINDS</a>
        <button class="mobile-acc-btn" aria-expanded="false" aria-controls="mob-about">▾</button>
      </div>
      <div id="mob-about" class="mobile-acc-panel hidden">
        <a href="{{ '/about-introduction.html' | relative_url }}">Introduction</a>
        <a href="{{ '/about-vision-area.html' | relative_url }}">Research Area</a>
        <a href="{{ '/about-honors.html' | relative_url }}">Honors & Awards</a>
        <a href="{{ '/about-location.html' | relative_url }}">Location</a>
      </div>
    </div>
    
    <!-- Members (Accordion) -->
    <div class="mobile-accordion-wrapper">
      <div class="mobile-accordion-header">
        <a class="mobile-link" href="{{ '/members-director.html' | relative_url }}">Members</a>
        <button class="mobile-acc-btn" aria-expanded="false" aria-controls="mob-members">▾</button>
      </div>
      <div id="mob-members" class="mobile-acc-panel hidden">
        <a href="{{ '/members-director.html' | relative_url }}">Director</a>
        <a href="{{ '/members-current.html' | relative_url }}">Current Members</a>
        <a href="{{ '/members-alumni.html' | relative_url }}">Alumni</a>
      </div>
    </div>
    
    <a class="mobile-link" href="{{ '/publications.html' | relative_url }}">Publications</a>
    <a class="mobile-link" href="{{ '/lectures.html' | relative_url }}">Lectures</a>
    <a class="mobile-link" href="{{ '/projects.html' | relative_url }}">Projects</a>
    
    <!-- Archives (Accordion) -->
    <div class="mobile-accordion-wrapper">
      <div class="mobile-accordion-header">
        <a class="mobile-link" href="{{ '/archives-news.html' | relative_url }}">Archives</a>
        <button class="mobile-acc-btn" aria-expanded="false" aria-controls="mob-archives">▾</button>
      </div>
      <div id="mob-archives" class="mobile-acc-panel hidden">
        <a href="{{ '/archives-news.html' | relative_url }}">News</a>
        <a href="{{ '/archives-notice.html' | relative_url }}">Notice</a>
        <a href="{{ '/archives-seminar.html' | relative_url }}">Seminar</a>
        <a href="{{ '/archives-gallery.html' | relative_url }}">Gallery</a>
        <a href="{{ '/archives-playlist.html' | relative_url }}">Playlist</a>
      </div>
    </div>
  </div>
</div>
</header>

<style>
/* 데스크톱 네비 */
.desktop-nav {
  display: none;
}

@media (min-width: 768px) {
  .desktop-nav {
    display: flex !important;
  }
  .mobile-menu-toggle {
    display: none !important;
  }
}

@media (max-width: 767px) {
  .desktop-nav {
    display: none !important;
  }
  .mobile-menu-toggle {
    display: inline-flex !important;
  }
}

/* 모바일 네비 패널 - 핵심 */
.mobile-nav-panel {
  position: absolute;
  top: 70px;  /* 헤더 바로 아래 */
  left: 0;
  right: 0;
  background: white;
  z-index: 9998;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  display: none;
}

.mobile-nav-panel.show {
  display: block !important;
}

.mobile-nav-inner {
  max-width: 100%;
  padding: 1rem;
  max-height: calc(100vh - 70px);
  overflow-y: auto;
}

/* 모바일 링크 스타일 - 완전 통일 */
.mobile-link {
  display: block !important;
  padding: 12px 16px !important;
  padding-left: 14px !important;  /* 16px → 20px로 살짝 오른쪽 이동 */
  margin: 0 !important;
  font-weight: 700 !important;
  font-size: 16px !important;  /* 16px로 통일 */
  color: #1f2937 !important;
  border-radius: 8px !important;
  text-decoration: none !important;
  line-height: 1.5 !important;
}

.mobile-link:hover {
  background: #fff7e0 !important;
  color: #8a6a12 !important;
}

/* 아코디언 아이템 */
.mobile-accordion-item {
  margin: 0 !important;
  padding: 0 !important;
}

/* 아코디언 헤더 */
.mobile-accordion-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* 아코디언 메인 링크 - mobile-link와 완전 동일 */
.mobile-accordion-link {
  display: block !important;
  flex: 1 !important;
  padding: 12px 16px !important;
  margin: 0 !important;
  font-weight: 700 !important;
  font-size: 16px !important;  /* 16px로 통일 */
  color: #1f2937 !important;
  border-radius: 8px 0 0 8px !important;
  text-decoration: none !important;
  line-height: 1.5 !important;
}

.mobile-accordion-link:hover {
  background: #fff7e0 !important;
  color: #8a6a12 !important;
}

/* 아코디언 버튼 */
.mobile-acc-btn {
  padding: 12px 16px !important;
  margin: 0 !important;
  background: transparent !important;
  border: none !important;
  border-radius: 0 8px 8px 0 !important;
  cursor: pointer !important;
  font-size: 18px !important;  /* 화살표는 18px */
  font-weight: 700 !important;
  color: #6b7280 !important;
  transition: all 0.2s !important;
}

.mobile-acc-btn:hover {
  background: #fff7e0 !important;
  color: #d97706 !important;
}

/* 모바일 아코디언 서브메뉴 */
.mobile-acc-panel {
  display: none;
  margin: 4px 0 4px 24px !important;
  padding: 0 !important;
}

.mobile-acc-panel:not(.hidden) {
  display: grid !important;
  gap: 2px !important;
}

.mobile-acc-panel a {
  display: block !important;
  padding: 8px 12px !important;
  font-size: 14px !important;  /* 서브메뉴는 14px로 작게 */
  font-weight: 600 !important;
  color: #555 !important;
  border-radius: 6px !important;
  text-decoration: none !important;
}

.mobile-acc-panel a:hover {
  background: #fff7e0 !important;
  color: #8a6a12 !important;
}

/* 기존 데스크톱 스타일 유지 */
.nav-link{
  display:inline-flex; align-items:center; justify-content:center;
  height:46px; padding:0 14px; border-radius:10px;
  font-weight:800; line-height:1;
  color:#ffffff;
  text-shadow: 0 1px 1px rgba(0,0,0,.18);
  transition: background-color .2s ease, color .2s ease, box-shadow .2s ease, transform .2s ease;
}

.nav-link:hover,
.menu-group:hover > .nav-link{
  color:#ffffff;
  background: rgba(0,0,0,.15);
  text-shadow: 0 2px 6px rgba(0,0,0,.35);
}

.menu-group{ position:relative; }
.submenu-panel{
  display:none; position:absolute; top:calc(100% + 8px); left:0;
  background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px;
  box-shadow:0 12px 40px rgba(0,0,0,.12);
  min-width:180px; padding:8px 0; z-index:50;
}
.menu-group:hover > .submenu-panel,
.menu-group[data-open="true"] > .submenu-panel{ display:block; }

.submenu-panel a{
  display:block; padding:8px 14px; font-weight:700; font-size:14px;
  color:#1f2937; border-radius:8px; transition: background-color .15s ease, color .15s ease;
}
.submenu-panel a:hover{
  background:#fff7e0;
  color:#8a6a12;
}
</style>
