---
layout: default
title: members-current
permalink: /members-current.html
---

<!-- Jekyll에서 _data/members/ 폴더의 JSON 파일들을 Liquid 템플릿으로 읽어와서 JavaScript 변수로 전달 -->
<script>
  // _data/members/kim-phd.json 데이터를 JavaScript 변수로 변환
  const kimPhdData = {{ site.data.members.kim-phd | jsonify }};
  
  // 디버깅용 로그
  console.log('Loaded kim-phd data from _data/members/:', kimPhdData);
</script>

<!-- ===== Gold Interactive Banner (Hearts/Clubs/Spades/Diamonds) ===== -->
<section class="max-w-7xl mx-auto px-4 mt-6">
  <style>
    :root {
      --gold: rgb(214, 177, 77);
      --gold-mid: rgb(234, 197, 97);
      --gold-dark: rgb(194, 157, 57);

      --phd-gold: rgb(214, 177, 77);
      --ms-light-gold: rgb(245, 225, 150);
      --undergrad-red: rgb(172, 14, 14);
      --primary-dark: #111827;
    }

    /* Loading Spinner */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(0,0,0,.1);
      border-radius: 50%;
      border-top-color: var(--phd-gold);
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .loading-container {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 60px 20px;
      color: #6b7280;
      font-size: 14px;
      gap: 12px;
    }

    /* Banner */
    .banner-section {
      background: linear-gradient(
        135deg,
        var(--gold) 0%,
        var(--gold-mid) 25%,
        var(--gold-dark) 50%,
        var(--gold) 75%,
        var(--gold-mid) 100%
      );
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      position: relative;
      overflow: hidden;
      min-height: 200px;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      cursor: pointer;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Burst container */
    .network-burst {
      position: absolute;
      width: 200px;
      height: 200px;
      pointer-events: none;
      opacity: 0;
      animation: burstAnimation 2s ease-out forwards;
    }
    @keyframes burstAnimation {
      0%   { opacity: 0; transform: scale(.3) rotate(0deg); }
      30%  { opacity: .85; }
      100% { opacity: 0; transform: scale(2) rotate(180deg); }
    }
    .network-burst svg { width: 100%; height: 100%; }
    .burst-line { stroke: rgba(255,255,255,.8); stroke-width: 1.5; fill: none; }
    .burst-dot  { fill: rgba(255,255,255,.95); }

    /* Banner content (left-bottom) */
    .banner-content {
      position: relative;
      z-index: 10;
      padding: 32px 24px;
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
      min-height: 200px;
    }
    .breadcrumbs-banner {
      display: flex; flex-wrap: wrap; gap: .5rem; align-items: center;
      font-size: 13px; font-weight: 600; margin-bottom: 8px;
    }
    .breadcrumbs-banner a { color: rgba(255,255,255,.92); text-decoration: none; transition: color .2s; }
    .breadcrumbs-banner a:hover { color: #fff; text-decoration: underline; }
    .breadcrumbs-banner .sep { color: rgba(255,255,255,.8); }
    .breadcrumbs-banner span:not(.sep):not(a) { color: #fff; font-weight: 800; }

    .banner-title {
      font-size: 2.25rem;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 2px 4px rgba(0,0,0,.12);
      letter-spacing: -.02em;
      margin: 0;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .banner-content { padding: 24px 18px; min-height: 160px; }
      .banner-section { min-height: 160px; }
      .banner-title { font-size: 1.9rem; }
      .breadcrumbs-banner { font-size: 12px; }
    }
    @media (max-width: 480px) {
      .banner-content { padding: 20px 16px; min-height: 130px; }
      .banner-section { min-height: 130px; }
      .banner-title { font-size: 1.6rem; }
      .breadcrumbs-banner { font-size: 11px; }
    }

    /* ===== Members Styles ===== */
    /* Statistics Section */
    .stats-container{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));
      gap:16px;
      margin-top:2rem;
      margin-bottom:2.5rem;
    }
    .stat-card{
      background:#fff;border:1px solid #e5e7eb;border-radius:0.75rem;padding:16px;text-align:center;transition:all 0.2s;
    }
    .stat-card:hover{ transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,0.08); }
    .stat-number{ font-size:28px;font-weight:900;color:#111827; }
    .stat-label{ font-size:12px;color:#6b7280;margin-top:4px;text-transform:uppercase;letter-spacing:0.5px; }
    .stat-card.phd-stat{ border-top:3px solid var(--phd-gold); }
    .stat-card.ms-stat{ border-top:3px solid var(--ms-light-gold); }
    .stat-card.undergrad-stat{ border-top:3px solid var(--undergrad-red); }
    .stat-card.total-stat{ border-top:3px solid var(--primary-dark); }

    /* ENHANCED Section Headers with Toggle */
    .section-header{ 
      margin-top:3rem;
      margin-bottom:2rem;
      position: relative;
      overflow: visible;
    }
    
    .section-header-content {
      padding:28px 32px;
      background: #fff;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border: 2px solid transparent;
      transition: all 0.3s ease;
      cursor: pointer;
      user-select: none;
    }
    
    /* PhD Style */
    .section-header.phd .section-header-content {
      background: linear-gradient(135deg, #fff 0%, rgba(214, 177, 77, 0.05) 100%);
      border-color: var(--phd-gold);
      box-shadow: 0 8px 32px rgba(214, 177, 77, 0.15);
    }
    .section-header.phd .section-header-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, 
        var(--phd-gold) 0%, 
        var(--gold-mid) 25%, 
        var(--phd-gold) 50%, 
        var(--gold-dark) 75%, 
        var(--phd-gold) 100%);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }
    
    /* MS Style */
    .section-header.ms .section-header-content {
      background: linear-gradient(135deg, #fff 0%, rgba(245, 225, 150, 0.08) 100%);
      border-color: var(--ms-light-gold);
      box-shadow: 0 8px 32px rgba(245, 225, 150, 0.25);
    }
    .section-header.ms .section-header-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, 
        var(--ms-light-gold) 0%, 
        rgb(250, 235, 180) 33%, 
        var(--ms-light-gold) 66%, 
        rgb(255, 245, 200) 100%);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }
    
    /* Undergrad Style */
    .section-header.undergrad .section-header-content {
      background: linear-gradient(135deg, #fff 0%, rgba(172, 14, 14, 0.04) 100%);
      border-color: var(--undergrad-red);
      box-shadow: 0 8px 32px rgba(172, 14, 14, 0.12);
    }
    .section-header.undergrad .section-header-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, 
        var(--undergrad-red) 0%, 
        rgb(192, 34, 34) 33%, 
        var(--undergrad-red) 66%, 
        rgb(152, 14, 14) 100%);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }
    
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    
    /* Toggle Button */
    .toggle-btn {
      position: absolute;
      right: 32px;
      top: 50%;
      transform: translateY(-50%);
      width: 32px;
      height: 32px;
      background: rgba(255,255,255,0.8);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .section-header.phd .toggle-btn {
      border: 1px solid var(--phd-gold);
      color: var(--phd-gold);
    }
    .section-header.ms .toggle-btn {
      border: 1px solid var(--ms-light-gold);
      color: rgb(180, 160, 80);
    }
    .section-header.undergrad .toggle-btn {
      border: 1px solid var(--undergrad-red);
      color: var(--undergrad-red);
    }
    
    .toggle-btn:hover {
      background: #fff;
      transform: translateY(-50%) scale(1.1);
    }
    
    .toggle-btn.collapsed {
      transform: translateY(-50%) rotate(180deg);
    }
    .toggle-btn.collapsed:hover {
      transform: translateY(-50%) rotate(180deg) scale(1.1);
    }
    
    /* Icon Container */
    .section-icon-wrapper {
      position: relative;
      display: inline-block;
    }
    
    .section-icon {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      position: relative;
      z-index: 2;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    .section-header.phd .section-icon {
      background: linear-gradient(135deg, var(--phd-gold), var(--gold-dark));
      box-shadow: 0 6px 20px rgba(214, 177, 77, 0.3);
    }
    .section-header.ms .section-icon {
      background: linear-gradient(135deg, var(--ms-light-gold), rgb(235, 205, 100));
      box-shadow: 0 6px 20px rgba(245, 225, 150, 0.4);
    }
    .section-header.undergrad .section-icon {
      background: linear-gradient(135deg, var(--undergrad-red), rgb(152, 14, 14));
      box-shadow: 0 6px 20px rgba(172, 14, 14, 0.25);
    }
    
    /* Hover animation */
    .section-header-content:hover {
      transform: translateY(-2px);
    }
    .section-header-content:hover .section-icon {
      transform: rotate(-5deg) scale(1.05);
    }
    
    /* Collapsed state for grid */
    .members-grid.collapsed {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      margin-bottom: 0;
      transition: all 0.4s ease;
    }
    
    .members-grid.expanded {
      max-height: 5000px;
      opacity: 1;
      transition: all 0.4s ease;
    }
    
    .section-text {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    
    .section-main-title {
      font-size: 26px;
      font-weight: 900;
      color: #111827;
      letter-spacing: -0.5px;
      margin: 0;
    }
    
    .section-subtitle {
      font-size: 14px;
      font-weight: 600;
      color: #6b7280;
      margin: 0;
    }
    
    .section-content {
      display: flex;
      align-items: center;
      gap: 24px;
    }
    
    /* Member count badge */
    .member-count {
      position: absolute;
      top: 24px;
      right: 24px;
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 800;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .section-header.phd .member-count {
      background: rgba(214, 177, 77, 0.15);
      color: var(--phd-gold);
      border: 1px solid rgba(214, 177, 77, 0.3);
    }
    .section-header.ms .member-count {
      background: rgba(245, 225, 150, 0.2);
      color: rgb(160, 140, 60);
      border: 1px solid rgba(245, 225, 150, 0.4);
    }
    .section-header.undergrad .member-count {
      background: rgba(172, 14, 14, 0.1);
      color: var(--undergrad-red);
      border: 1px solid rgba(172, 14, 14, 0.2);
    }

    /* Grid Layout - 2 COLUMNS */
    .members-grid{ 
      display:grid;
      gap:20px;
      grid-template-columns:repeat(2, 1fr);
    }
    @media (max-width: 768px) { 
      .members-grid{ 
        grid-template-columns:1fr; 
        gap:16px; 
      } 
    }

    /* Member Cards */
    .member-card{ background:#fff;border:1px solid #e5e7eb;border-radius:1rem;overflow:hidden;transition:all 0.2s; }
    .member-card:hover{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,0.08); }

    .card-banner{ height:6px; }
    .card-banner.phd{ background:var(--phd-gold); }
    .card-banner.ms{ background:var(--ms-light-gold); }
    .card-banner.undergrad{ background:var(--undergrad-red); }

    .card-content{ padding:20px; }
    .member-info{ display:flex;gap:16px; }

    /* Avatar */
    .member-avatar{
      flex-shrink:0;width:90px;height:112px;border-radius:0.75rem;object-fit:cover;background:#f8fafc;border:1px solid #e5e7eb;
    }
    @media (max-width: 480px) { .member-avatar{ width:75px;height:94px; } }

    /* Member Details */
    .member-details{ flex:1;min-width:0; }
    .member-name{ font-size:18px;font-weight:900;color:#111827;margin-bottom:4px; word-break:keep-all; overflow-wrap:anywhere; }
    .member-role{ 
      display:inline-flex;align-items:center;padding:3px 10px;
      background:#f8fafc;border:1px solid #e5e7eb;border-radius:999px;
      font-size:11px;font-weight:700;text-transform:uppercase;margin-bottom:8px; 
    }
    .member-role.phd{ background:var(--phd-gold);border-color:var(--phd-gold);color:#111827; }
    .member-role.ms{ background:var(--ms-light-gold);border-color:var(--ms-light-gold);color:#111827; }
    .member-role.undergrad{ background:var(--undergrad-red);border-color:var(--undergrad-red);color:#fff; }
    
    .member-period{ font-size:12px;color:#6b7280;margin-bottom:12px; }
    .member-field{ font-size:13px;color:#374151;margin-bottom:6px; word-break:keep-all; overflow-wrap:anywhere; }
    .member-field strong{ font-weight:700;color:#111827; }
    .member-email{ color:#3b82f6;text-decoration:none;word-break:break-all; }
    .member-email:hover{ text-decoration:underline; }

    .btn-details{
      margin-top:12px;padding:8px 16px;background:#111827;color:#fff;border:none;border-radius:0.5rem;
      font-size:12px;font-weight:700;cursor:pointer;transition:all 0.2s;display:inline-flex;align-items:center;gap:4px;
    }
    .btn-details:hover{ background:#1f2937;transform:translateX(2px); }
    .btn-details.phd:hover{ background:var(--phd-gold);color:#111827; }
    .btn-details.ms:hover{ background:var(--ms-light-gold);color:#111827; }
    .btn-details.undergrad:hover{ background:var(--undergrad-red);color:#fff; }

    /* Enhanced Modal styles (Optimized for performance) */
    .modal-overlay{ 
      position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:9998;
      display:none;opacity:0;transition:opacity 0.3s;backdrop-filter:blur(8px);
      will-change: opacity;
    }
    .modal-overlay.show{ display:block;opacity:1; }
    
    .modal-panel{
      position:fixed;top:50%;left:50%;transform:translate(-50%, -50%) scale(0.95);
      width:90%;max-width:750px;max-height:85vh;background:#fff;border-radius:1.5rem;
      z-index:9999;display:none;opacity:0;transition:all 0.3s;overflow:hidden;
      box-shadow:0 25px 70px rgba(0,0,0,0.4);
      will-change: transform, opacity;
    }
    .modal-panel.show{ display:flex;flex-direction:column;opacity:1;transform:translate(-50%, -50%) scale(1); }
    
    /* Modal Header */
    .modal-header {
      padding:24px 28px;
      border-bottom:1px solid #e5e7eb;
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
      position:relative;
    }
    
    .modal-header::after {
      content:'';
      position:absolute;
      bottom:0;
      left:0;
      right:0;
      height:1px;
      background:linear-gradient(90deg, transparent, #e5e7eb, transparent);
    }
    
    .modal-title {
      font-size:20px;
      font-weight:900;
      color:#111827;
      display:flex;
      align-items:center;
      gap:12px;
    }
    
    .modal-close {
      width:36px;
      height:36px;
      border-radius:0.75rem;
      border:none;
      background:#fff;
      color:#6b7280;
      font-size:20px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:all 0.2s;
      box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    .modal-close:hover {
      background:#f3f4f6;
      color:#111827;
      transform:rotate(90deg);
    }
    
    /* Modal Degree Badge */
    .modal-degree {
      padding:14px 24px;
      font-size:13px;
      font-weight:800;
      text-transform:uppercase;
      letter-spacing:1px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position:relative;
      overflow:hidden;
    }
    
    .modal-degree.phd {
      background:linear-gradient(135deg, var(--phd-gold), var(--gold-dark));
      color:#fff;
      text-shadow:0 1px 2px rgba(0,0,0,0.2);
    }
    .modal-degree.ms {
      background:linear-gradient(135deg, var(--ms-light-gold), rgb(235,205,100));
      color:#111827;
    }
    .modal-degree.undergrad {
      background:linear-gradient(135deg, var(--undergrad-red), rgb(152,14,14));
      color:#fff;
      text-shadow:0 1px 2px rgba(0,0,0,0.2);
    }
    
    /* Modal Body */
    .modal-body {
      padding:28px;
      overflow-y:auto;
      flex:1;
      background:#fafbfc;
    }
    
    /* Modal Sections (removed animations for performance) */
    .modal-section {
      margin-bottom:28px;
    }
    
    .modal-section:last-child {
      margin-bottom:0;
    }
    
    .modal-section-title {
      font-size:14px;
      font-weight:900;
      color:#111827;
      margin-bottom:16px;
      padding-bottom:8px;
      border-bottom:2px solid transparent;
      border-image:linear-gradient(90deg, var(--phd-gold), transparent) 1;
      text-transform:uppercase;
      letter-spacing:0.8px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    
    .modal-section-icon {
      width:24px;
      height:24px;
      background:linear-gradient(135deg, var(--phd-gold), var(--gold-dark));
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      color:#fff;
    }
    
    /* Education Items */
    .edu-item {
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:12px;
      padding:16px;
      margin-bottom:12px;
      position:relative;
      overflow:hidden;
    }
    
    .edu-item::before {
      content:'';
      position:absolute;
      left:0;
      top:0;
      bottom:0;
      width:4px;
      background:linear-gradient(180deg, var(--phd-gold), var(--gold-dark));
    }
    
    .edu-degree-badge {
      display:inline-flex;
      padding:4px 12px;
      background:linear-gradient(135deg, #f3f4f6, #e5e7eb);
      border-radius:999px;
      font-size:11px;
      font-weight:800;
      text-transform:uppercase;
      margin-bottom:8px;
    }
    
    /* Publication Items */
    .pub-item {
      background:#fff;
      border-radius:12px;
      padding:16px 18px;
      margin-bottom:12px;
      border:1px solid #e5e7eb;
      border-left:3px solid var(--phd-gold);
    }
    
    .pub-title {
      font-weight:700;
      color:#111827;
      font-size:14px;
      margin-bottom:6px;
      line-height:1.4;
    }
    
    .pub-authors {
      font-size:12px;
      color:#6b7280;
      margin-bottom:4px;
    }
    
    .pub-venue {
      font-size:12px;
      color:#3b82f6;
      font-style:italic;
    }
    
    .pub-year {
      display:inline-block;
      padding:2px 8px;
      background:#f3f4f6;
      border-radius:4px;
      font-size:11px;
      font-weight:600;
      color:#374151;
      margin-left:8px;
    }
    
    /* Award Items */
    .award-item {
      background:linear-gradient(135deg, #fffbeb, #fef3c7);
      border:1px solid #fbbf24;
      border-radius:12px;
      padding:14px 16px;
      margin-bottom:12px;
      position:relative;
      padding-left:44px;
    }
    
    .award-item::before {
      content:'🏆';
      position:absolute;
      left:14px;
      top:50%;
      transform:translateY(-50%);
      font-size:20px;
    }
    
    .award-title {
      font-weight:700;
      color:#92400e;
      font-size:13px;
      margin-bottom:4px;
    }
    
    .award-org {
      font-size:12px;
      color:#78350f;
    }
    
    .award-year {
      font-size:11px;
      color:#92400e;
      font-weight:600;
    }
    
    /* Skills Grid */
    .skills-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:16px;
    }
    
    .skill-category {
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:10px;
      padding:14px;
    }
    
    .skill-category-title {
      font-size:11px;
      font-weight:800;
      color:#6b7280;
      text-transform:uppercase;
      margin-bottom:8px;
      letter-spacing:0.5px;
    }
    
    .skill-tags {
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }
    
    .skill-tag {
      padding:4px 10px;
      background:linear-gradient(135deg, #f3f4f6, #e5e7eb);
      border-radius:6px;
      font-size:11px;
      color:#374151;
      font-weight:600;
    }
    
    /* Project Items */
    .project-item {
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:12px;
      padding:16px;
      margin-bottom:12px;
    }
    
    .project-title {
      font-weight:700;
      color:#111827;
      font-size:14px;
      margin-bottom:6px;
    }
    
    .project-role {
      display:inline-block;
      padding:2px 8px;
      background:#dbeafe;
      color:#1e40af;
      border-radius:4px;
      font-size:11px;
      font-weight:600;
      margin-bottom:8px;
    }
    
    .project-desc {
      font-size:12px;
      color:#4b5563;
      margin-bottom:8px;
      line-height:1.5;
    }
    
    .project-tech {
      display:flex;
      flex-wrap:wrap;
      gap:4px;
    }
    
    .tech-tag {
      padding:2px 6px;
      background:#f3f4f6;
      border-radius:4px;
      font-size:10px;
      color:#6b7280;
      font-weight:600;
    }
    
    /* Mobile optimizations */
    @media (max-width: 768px) {
      .section-header { margin-top: 2rem; }
      .section-header-content { padding: 20px 24px; }
      .section-icon { width: 56px; height: 56px; font-size: 28px; }
      .section-main-title { font-size: 22px; }
      .section-subtitle { font-size: 13px; }
      .member-count { top: 16px; right: 16px; font-size: 12px; padding: 6px 12px; }
    }
  </style>

  <div class="banner-section" onclick="createNetworkBurst(event, this)">
    <div class="banner-content">
      <div>
        <nav aria-label="Breadcrumb" class="breadcrumbs-banner" onclick="event.stopPropagation()">
          <a href="{{ '/' | relative_url }}">Home</a>
          <span class="sep">›</span>
          <a href="{{ '/members-current.html' | relative_url }}">Members</a>
          <span class="sep">›</span>
          <span aria-current="page">Current Members</span>
        </nav>
        <h1 class="banner-title">Current Members</h1>
      </div>
    </div>
  </div>
</section>

<script>
/* Interactive gold burst functions */
function createNetworkBurst(event, element) {
  const rect = element.getBoundingClientRect();
  const x = event.clientX - rect.left - 100;
  const y = event.clientY - rect.top  - 100;
  const networkDiv = document.createElement('div');
  networkDiv.className = 'network-burst';
  networkDiv.style.left = x + 'px';
  networkDiv.style.top  = y + 'px';
  const patterns = [generateHeartNetwork, generateClubNetwork, generateSpadeNetwork, generateDiamondNetwork];
  const randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
  networkDiv.innerHTML = randomPattern();
  element.appendChild(networkDiv);
  setTimeout(()=> element.removeChild(networkDiv), 2000);
}
function generateHeartNetwork() {
  let svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const heartPath = 'M100,140 C80,120 40,100 40,70 C40,50 55,35 70,35 C85,35 95,45 100,55 C105,45 115,35 130,35 C145,35 160,50 160,70 C160,100 120,120 100,140 Z';
  svg += `<path d="${heartPath}" class="burst-line" stroke-width="2"/>`;
  const nodes = [{x:70,y:35},{x:130,y:35},{x:40,y:70},{x:160,y:70},{x:100,y:140},{x:60,y:50},{x:140,y:50},{x:80,y:90},{x:120,y:90}];
  const connections = [[0,1],[0,2],[1,3],[2,4],[3,4],[0,5],[1,6],[5,7],[6,8],[7,8]];
  connections.forEach(([f,t])=> svg += `<line x1="${nodes[f].x}" y1="${nodes[f].y}" x2="${nodes[t].x}" y2="${nodes[t].y}" class="burst-line" opacity=".5"/>`);
  nodes.forEach(n=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${3 + Math.random()*2}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
function generateClubNetwork() {
  let svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const circles = [{x:100,y:60,r:25},{x:75,y:85,r:25},{x:125,y:85,r:25}];
  circles.forEach(c=> svg += `<circle cx="${c.x}" cy="${c.y}" r="${c.r}" class="burst-line" stroke-width="2"/>`);
  svg += `<line x1="100" y1="100" x2="100" y2="140" class="burst-line" stroke-width="3"/>`;
  const nodes=[];
  circles.forEach(c=>{ for(let i=0;i<6;i++){ const a=i*2*Math.PI/6; nodes.push({x:c.x+c.r*Math.cos(a),y:c.y+c.r*Math.sin(a)}); }});
  nodes.push({x:100,y:100},{x:100,y:140});
  for(let i=0;i<nodes.length;i++){ for(let j=i+1;j<nodes.length;j++){ const dx=nodes[i].x-nodes[j].x, dy=nodes[i].y-nodes[j].y, d=Math.hypot(dx,dy); if(d<40){ svg += `<line x1="${nodes[i].x}" y1="${nodes[i].y}" x2="${nodes[j].x}" y2="${nodes[j].y}" class="burst-line" opacity="${0.3+(1-d/40)*0.4}"/>`; }}}
  nodes.forEach(n=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${2 + Math.random()*2}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
function generateSpadeNetwork() {
  let svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const spadePath='M100,50 C80,50 60,65 60,85 C60,105 75,110 85,110 C90,110 95,108 100,105 C105,108 110,110 115,110 C125,110 140,105 140,85 C140,65 120,50 100,50 Z';
  svg += `<path d="${spadePath}" class="burst-line" stroke-width="2"/>`;
  svg += `<path d="M100,105 L90,130 L110,130 Z" class="burst-line" stroke-width="2"/>`;
  svg += `<line x1="100" y1="130" x2="100" y2="145" class="burst-line" stroke-width="3"/>`;
  const nodes=[{x:100,y:50},{x:75,y:70},{x:125,y:70},{x:60,y:85},{x:140,y:85},{x:85,y:110},{x:115,y:110},{x:100,y:105},{x:90,y:130},{x:110,y:130},{x:100,y:145}];
  const conn=[[0,1],[0,2],[1,3],[2,4],[3,5],[4,6],[5,7],[6,7],[7,8],[7,9],[8,10],[9,10]];
  conn.forEach(([f,t])=> svg += `<line x1="${nodes[f].x}" y1="${nodes[f].y}" x2="${nodes[t].x}" y2="${nodes[t].y}" class="burst-line" opacity=".4"/>`);
  nodes.forEach((n,i)=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${(i===0||i===7)?4:3}" class="burst-dot"/>`);
  svg += '</svg>'; return svg;
}
function generateDiamondNetwork() {
  let svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">';
  const diamond='M100,40 L140,100 L100,160 L60,100 Z';
  svg += `<path d="${diamond}" class="burst-line" stroke-width="2"/>`;
  svg += `<line x1="100" y1="40" x2="100" y2="160" class="burst-line" opacity=".55"/>`;
  svg += `<line x1="60" y1="100" x2="140" y2="100" class="burst-line" opacity=".55"/>`;
  const nodes=[{x:100,y:40},{x:140,y:100},{x:100,y:160},{x:60,y:100},{x:100,y:100}];
  for(let i=0;i<4;i++){ svg += `<line x1="${nodes[i].x}" y1="${nodes[i].y}" x2="${nodes[4].x}" y2="${nodes[4].y}" class="burst-line" opacity=".32"/>`; }
  nodes.forEach((n,i)=> svg += `<circle cx="${n.x}" cy="${n.y}" r="${i<4?4:(i===4?5:2.5)}" class="burst-dot" opacity="${i===4?1:.85}"/>`);
  svg += '</svg>'; return svg;
}
</script>

<!-- ===== Members Content ===== -->
<section class="max-w-7xl mx-auto px-4 mt-8 pb-8">

  <!-- Statistics Section -->
  <div class="stats-container">
    <div class="stat-card phd-stat">
      <div class="stat-number" id="phdCount">0</div>
      <div class="stat-label">Ph.D. Students</div>
    </div>
    <div class="stat-card ms-stat">
      <div class="stat-number" id="msCount">0</div>
      <div class="stat-label">M.S. Students</div>
    </div>
    <div class="stat-card undergrad-stat">
      <div class="stat-number" id="undergradCount">0</div>
      <div class="stat-label">Undergraduate Researchers</div>
    </div>
    <div class="stat-card total-stat">
      <div class="stat-number" id="totalCount">0</div>
      <div class="stat-label">Total Members</div>
    </div>
  </div>

  <!-- Member sections will be dynamically loaded -->
  <div id="membersContainer">
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <span>Loading members data...</span>
    </div>
  </div>

</section>

<!-- ===== Modal ===== -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal()"></div>
<div class="modal-panel" id="modalPanel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <!-- Modal content will be dynamically generated -->
</div>

<!-- ===== Dynamic Member Loading Script ===== -->
<script>
// Store all loaded member data
let allMembers = [];

// Load member data using Jekyll's data from _data/members/
function loadAllMembers() {
  const container = document.getElementById('membersContainer');
  
  try {
    // Use the data loaded from _data/members/kim-phd.json
    if (typeof kimPhdData === 'undefined') {
      throw new Error('김박사 데이터를 찾을 수 없습니다. _data/members/kim-phd.json 파일을 확인하세요.');
    }
    
    const kimData = kimPhdData;
    console.log('Using data from _data/members/kim-phd.json');
    
    // Create variations for all members based on kim-phd.json
    allMembers = [
      // Original Kim Ph.D.
      kimData,
      
      // Lee Ph.D. (modified version)
      {
        ...kimData,
        id: 'lee-phd',
        name: { ko: '이박사', en: 'Lee Ph.D.' },
        role: { ko: '박사과정', en: 'Ph.D. Student' },
        period: { start: '2021-03', end: null, expected_graduation: '2026-02' },
        contact: { ...kimData.contact, email: 'lee.phd@example.edu' },
        research: {
          ...kimData.research,
          interests: ['Deep Learning for Finance', 'Portfolio Optimization', 'Time Series Analysis', 'Quantitative Trading']
        }
      },
      
      // Park Master (modified version)
      {
        ...kimData,
        id: 'park-master',
        degree: 'ms',
        name: { ko: '박석사', en: 'Park Master' },
        role: { ko: '석사과정', en: 'Master Student' },
        period: { start: '2024-03', end: null, expected_graduation: '2026-02' },
        contact: { ...kimData.contact, email: 'park.master@example.edu' },
        research: {
          ...kimData.research,
          interests: ['Financial NLP', 'Evaluation Metrics', 'Text Mining', 'Sentiment Analysis']
        }
      },
      
      // Choi Undergrad (modified version)
      {
        ...kimData,
        id: 'choi-undergrad',
        degree: 'undergrad',
        name: { ko: '최학사', en: 'Choi Undergrad' },
        role: { ko: '학부연구생', en: 'Undergraduate Researcher' },
        period: { start: '2024-03', end: null, expected_graduation: '2026-08' },
        contact: { ...kimData.contact, email: 'choi.undergrad@example.edu' },
        research: {
          ...kimData.research,
          interests: ['Data-Driven Trading', 'Basic Analytics', 'Machine Learning', 'Python Programming']
        }
      }
    ];
    
    // Filter only active members
    allMembers = allMembers.filter(m => m && m.status === 'active');
    
    console.log('Total active members:', allMembers.length);
    
    // Sort members by degree and start date
    allMembers.sort((a, b) => {
      const degreeOrder = { phd: 0, ms: 1, undergrad: 2 };
      if (degreeOrder[a.degree] !== degreeOrder[b.degree]) {
        return degreeOrder[a.degree] - degreeOrder[b.degree];
      }
      return new Date(a.period.start) - new Date(b.period.start);
    });
    
    // Render members
    renderMembers();
    updateStatistics();
    
  } catch (error) {
    console.error('Error loading members:', error);
    container.innerHTML = `
      <div style="text-align:center;padding:40px 20px;color:#dc2626;background:#fef2f2;border-radius:12px;margin:20px 0;">
        <h3 style="margin-bottom:8px;">데이터 로드 오류</h3>
        <p style="font-size:14px;margin-bottom:8px;">${error.message}</p>
        <p style="font-size:12px;color:#6b7280;margin-top:12px;">_data/members/ 폴더에 kim-phd.json 파일이 있는지 확인하세요.</p>
      </div>
    `;
  }
}

// Render members grouped by degree
function renderMembers() {
  const container = document.getElementById('membersContainer');
  container.innerHTML = '';
  
  const categories = [
    { degree: 'phd', title: 'Ph.D. Students', subtitle: 'Doctoral Research Program', icon: '🎓', class: 'phd' },
    { degree: 'ms', title: 'M.S. Students', subtitle: 'Master\'s Research Program', icon: '📖', class: 'ms' },
    { degree: 'undergrad', title: 'Undergraduate Researchers', subtitle: 'Research Internship Program', icon: '📚', class: 'undergrad' }
  ];
  
  categories.forEach(category => {
    const categoryMembers = allMembers.filter(m => m.degree === category.degree);
    if (categoryMembers.length === 0) return;
    
    // Create section header with toggle functionality
    const sectionHTML = `
      <div class="section-header ${category.class}">
        <div class="section-header-content" onclick="toggleSection('${category.degree}')">
          <div class="member-count">
            <span class="count-number">${categoryMembers.length}</span>
            <span>${categoryMembers.length === 1 ? 'MEMBER' : 'MEMBERS'}</span>
          </div>
          <div class="toggle-btn" id="toggle-${category.degree}">
            ▼
          </div>
          <div class="section-content">
            <div class="section-icon-wrapper">
              <div class="section-icon">${category.icon}</div>
            </div>
            <div class="section-text">
              <h2 class="section-main-title">${category.title}</h2>
              <p class="section-subtitle">${category.subtitle}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="members-grid expanded" id="${category.degree}-grid"></div>
    `;
    
    container.insertAdjacentHTML('beforeend', sectionHTML);
    
    // Add member cards
    const grid = document.getElementById(`${category.degree}-grid`);
    categoryMembers.forEach(member => {
      grid.insertAdjacentHTML('beforeend', createMemberCard(member));
    });
  });
}

// Toggle section function
function toggleSection(degree) {
  const grid = document.getElementById(`${degree}-grid`);
  const toggleBtn = document.getElementById(`toggle-${degree}`);
  
  if (grid.classList.contains('expanded')) {
    // Collapse
    grid.classList.remove('expanded');
    grid.classList.add('collapsed');
    toggleBtn.classList.add('collapsed');
  } else {
    // Expand
    grid.classList.remove('collapsed');
    grid.classList.add('expanded');
    toggleBtn.classList.remove('collapsed');
  }
}

// Create member card HTML
function createMemberCard(member) {
  const displayName = member.name.ko ? `${member.name.ko} (${member.name.en})` : member.name.en;
  const role = member.role.en || member.role;
  const period = formatPeriod(member.period);
  const research = member.research.interests ? member.research.interests.slice(0, 2).join(', ') : '';
  const avatarPath = member.avatar || '/assets/img/members/default.jpg';
  
  return `
    <div class="member-card" data-degree="${member.degree}">
      <div class="card-banner ${member.degree}"></div>
      <div class="card-content">
        <div class="member-info">
          <img src="${avatarPath}"
               alt="${displayName}"
               class="member-avatar"
               loading="lazy" decoding="async"
               onerror="this.onerror=null; this.src='/assets/img/members/default.jpg'">
          <div class="member-details">
            <h3 class="member-name">${displayName}</h3>
            <span class="member-role ${member.degree}">${role}</span>
            <div class="member-period">${period}</div>
            ${research ? `<div class="member-field"><strong>Research:</strong> ${research}</div>` : ''}
            <div class="member-field">
              <strong>Email:</strong>
              <a href="mailto:${member.contact.email}" class="member-email">${member.contact.email}</a>
            </div>
            <button type="button" class="btn-details ${member.degree}" onclick="openModal('${member.id}'); return false;">
              View Profile →
            </button>
          </div>
        </div>
      </div>
    </div>
  `;
}

// Format period display
function formatPeriod(period) {
  const start = new Date(period.start);
  const startStr = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
  
  if (period.end) {
    const end = new Date(period.end);
    const endStr = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
    return `${startStr} - ${endStr}`;
  } else if (period.expected_graduation) {
    return `${startStr} - Present`;
  } else {
    return `${startStr} - Present`;
  }
}

// Update statistics
function updateStatistics() {
  const counts = {
    phd: allMembers.filter(m => m.degree === 'phd').length,
    ms: allMembers.filter(m => m.degree === 'ms').length,
    undergrad: allMembers.filter(m => m.degree === 'undergrad').length
  };
  
  animateNumber('phdCount', counts.phd);
  animateNumber('msCount', counts.ms);
  animateNumber('undergradCount', counts.undergrad);
  animateNumber('totalCount', counts.phd + counts.ms + counts.undergrad);
}

// Animate number counting
function animateNumber(elementId, finalValue) {
  const el = document.getElementById(elementId);
  if (!el) return;
  const start = parseInt(el.textContent, 10) || 0;
  const duration = 600;
  const startTime = performance.now();

  function tick(now) {
    const progress = Math.min(1, (now - startTime) / duration);
    const value = Math.round(start + (finalValue - start) * progress);
    el.textContent = value;
    if (progress < 1) requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
}

// Open modal with member details (Optimized version)
function openModal(memberId) {
  const member = allMembers.find(m => m.id === memberId);
  if (!member) return;
  
  const modalPanel = document.getElementById('modalPanel');
  const displayName = member.name.ko ? `${member.name.ko} (${member.name.en})` : member.name.en;
  const role = member.role.en || member.role;
  
  // Use array and join for better performance
  let modalParts = [];
  
  modalParts.push(`
    <div class="modal-header">
      <h3 class="modal-title">
        <span style="font-size:24px;">${member.degree === 'phd' ? '🎓' : member.degree === 'ms' ? '📖' : '📚'}</span>
        ${displayName}
      </h3>
      <button type="button" class="modal-close" aria-label="Close" onclick="closeModal()">✕</button>
    </div>
    <div class="modal-degree ${member.degree}">
      <span>${role}</span>
      <span style="font-size:11px;opacity:0.9;">${member.period.start} - ${member.period.expected_graduation || 'Present'}</span>
    </div>
    <div class="modal-body">
  `);
  
  // Contact Information (simplified without hover effects)
  if (member.contact) {
    modalParts.push(`
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">📧</span>
          Contact Information
        </h4>
        <div style="background:#fff;border-radius:12px;padding:16px;border:1px solid #e5e7eb;">
          ${member.contact.email ? `<div style="margin-bottom:8px;"><strong style="color:#6b7280;font-size:11px;">EMAIL</strong><br><span style="color:#3b82f6;font-size:14px;">${member.contact.email}</span></div>` : ''}
          ${member.contact.office ? `<div style="margin-bottom:8px;"><strong style="color:#6b7280;font-size:11px;">OFFICE</strong><br><span style="color:#374151;font-size:14px;">${member.contact.office}</span></div>` : ''}
          ${member.contact.phone ? `<div><strong style="color:#6b7280;font-size:11px;">PHONE</strong><br><span style="color:#374151;font-size:14px;">${member.contact.phone}</span></div>` : ''}
        </div>
      </div>
    `);
  }
  
  // Research Interests (simplified)
  if (member.research && member.research.interests) {
    modalParts.push(`
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">🔬</span>
          Research Interests
        </h4>
        <div style="display:flex;flex-wrap:wrap;gap:8px;">
          ${member.research.interests.map(interest => 
            `<span style="padding:8px 16px;background:linear-gradient(135deg,#e0e7ff,#c7d2fe);border-radius:999px;font-size:13px;color:#312e81;font-weight:600;">${interest}</span>`
          ).join('')}
        </div>
      </div>
    `);
  }
  
  // Education (simplified)
  if (member.education && member.education.length > 0) {
    let eduHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">🎓</span>
          Education
        </h4>
    `;
    member.education.forEach(edu => {
      const yearStr = edu.end || (edu.expected ? `Expected ${edu.expected}` : 'Present');
      eduHTML += `
        <div class="edu-item">
          <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px;">
            <span class="edu-degree-badge">${edu.degree}</span>
            <span style="font-size:12px;color:#6b7280;font-weight:600;">${yearStr}</span>
          </div>
          <div style="font-weight:700;color:#111827;font-size:14px;margin-bottom:4px;">${edu.field}</div>
          <div style="font-size:13px;color:#374151;margin-bottom:4px;">${edu.school}</div>
          ${edu.location ? `<div style="font-size:12px;color:#6b7280;">${edu.location}</div>` : ''}
          ${edu.gpa ? `<div style="font-size:12px;color:#059669;margin-top:6px;">GPA: ${edu.gpa}</div>` : ''}
          ${edu.honors ? `<div style="font-size:12px;color:#dc2626;margin-top:4px;">🏆 ${edu.honors}</div>` : ''}
        </div>
      `;
    });
    eduHTML += '</div>';
    modalParts.push(eduHTML);
  }
  
  // Publications (no URL links)
  if (member.publications && member.publications.length > 0) {
    let pubHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">📝</span>
          Publications
        </h4>
    `;
    member.publications.forEach(pub => {
      pubHTML += `
        <div class="pub-item">
          <div class="pub-title">${pub.title}</div>
          ${pub.authors ? `<div class="pub-authors">${pub.authors.join(', ')}</div>` : ''}
          <div>
            <span class="pub-venue">${pub.venue}</span>
            <span class="pub-year">${pub.year}</span>
          </div>
        </div>
      `;
    });
    pubHTML += '</div>';
    modalParts.push(pubHTML);
  }
  
  // Awards & Honors (simplified)
  if (member.awards && member.awards.length > 0) {
    let awardHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">🏆</span>
          Awards & Honors
        </h4>
    `;
    member.awards.forEach(award => {
      awardHTML += `
        <div class="award-item">
          <div class="award-title">${award.title}</div>
          <div class="award-org">${award.organization} ${award.year ? `• ${award.year}` : ''}</div>
          ${award.description ? `<div style="font-size:11px;color:#78350f;margin-top:4px;">${award.description}</div>` : ''}
        </div>
      `;
    });
    awardHTML += '</div>';
    modalParts.push(awardHTML);
  }
  
  // Projects (simplified)
  if (member.projects && member.projects.length > 0) {
    let projHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">💼</span>
          Research Projects
        </h4>
    `;
    member.projects.forEach(project => {
      projHTML += `
        <div class="project-item">
          <div class="project-title">${project.title}</div>
          <span class="project-role">${project.role}</span>
          <div style="font-size:11px;color:#6b7280;margin-bottom:8px;">${project.period}</div>
          <div class="project-desc">${project.description}</div>
          ${project.technologies ? `
            <div class="project-tech">
              ${project.technologies.map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
            </div>
          ` : ''}
          ${project.funding ? `<div style="font-size:11px;color:#059669;margin-top:8px;">💰 ${project.funding}</div>` : ''}
        </div>
      `;
    });
    projHTML += '</div>';
    modalParts.push(projHTML);
  }
  
  // Skills (simplified)
  if (member.skills) {
    let skillHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">⚡</span>
          Technical Skills
        </h4>
        <div class="skills-grid">
    `;
    
    if (member.skills.programming) {
      skillHTML += `
        <div class="skill-category">
          <div class="skill-category-title">Programming</div>
          <div class="skill-tags">
            ${member.skills.programming.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>
        </div>
      `;
    }
    
    if (member.skills.frameworks) {
      skillHTML += `
        <div class="skill-category">
          <div class="skill-category-title">Frameworks</div>
          <div class="skill-tags">
            ${member.skills.frameworks.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>
        </div>
      `;
    }
    
    skillHTML += '</div></div>';
    modalParts.push(skillHTML);
  }
  
  // Social Links (keep URLs only here)
  if (member.social) {
    let socialHTML = `
      <div class="modal-section">
        <h4 class="modal-section-title">
          <span class="modal-section-icon">🔗</span>
          Links & Profiles
        </h4>
        <div style="display:flex;flex-wrap:wrap;gap:12px;">
    `;
    
    if (member.social.github) {
      socialHTML += `<a href="${member.social.github}" target="_blank" style="padding:8px 16px;background:#24292e;color:#fff;border-radius:8px;text-decoration:none;font-size:12px;font-weight:600;">GitHub</a>`;
    }
    if (member.social.linkedin) {
      socialHTML += `<a href="${member.social.linkedin}" target="_blank" style="padding:8px 16px;background:#0077b5;color:#fff;border-radius:8px;text-decoration:none;font-size:12px;font-weight:600;">LinkedIn</a>`;
    }
    if (member.social.google_scholar) {
      socialHTML += `<a href="${member.social.google_scholar}" target="_blank" style="padding:8px 16px;background:#4285f4;color:#fff;border-radius:8px;text-decoration:none;font-size:12px;font-weight:600;">Google Scholar</a>`;
    }
    if (member.cv) {
      socialHTML += `<a href="${member.cv}" target="_blank" style="padding:8px 16px;background:#dc2626;color:#fff;border-radius:8px;text-decoration:none;font-size:12px;font-weight:600;">📄 Download CV</a>`;
    }
    
    socialHTML += '</div></div>';
    modalParts.push(socialHTML);
  }
  
  modalParts.push('</div>'); // Close modal-body
  
  // Set innerHTML once with joined string for better performance
  modalPanel.innerHTML = modalParts.join('');
  
  // Show modal with minimal DOM operations
  requestAnimationFrame(() => {
    document.getElementById('modalOverlay').classList.add('show');
    document.getElementById('modalPanel').classList.add('show');
    document.body.style.overflow = 'hidden';
  });
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('show');
  document.getElementById('modalPanel').classList.remove('show');
  document.body.style.overflow = '';
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  console.log('Page loaded, loading members from _data/members/');
  // Small delay to ensure Jekyll data is loaded
  setTimeout(() => {
    loadAllMembers();
  }, 100);
});

// ESC key to close modal
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeModal();
});
</script>
